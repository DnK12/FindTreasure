<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Найди Клад!</title>
</head>
<body>
	<h1 id="heading">Найди клад!</h1>
	<img id="map" width="800" height="800" src="http://nostarch.com/images/treasuremap.png">
	<p id="distanse"></p>
	<script src="https://code.jquery.com/jquery-2.1.0.js"></script>
	<script >
		var getRandomnumber = function(size){
			return Math.floor(Math.random() * size);
		};
		
		var getDistanse = function (event, target) {
			var diffX = event.offsetX - target.x;
			var diffY = event.offsetY - target.y;
			return Math.sqrt((diffX * diffX) + (diffY * diffY));
		};
		var getDistanseHint = function (distanse) {
			if (distanse < 10) {
				return ("Обожжешься! Кликов осталось " + clicks);
			}else if (distanse < 20) {
				return ("Очень горячо. Кликов осталось " + clicks);
			}else if (distanse < 40 ) {
				return ("Горячо. Кликов осталось " + clicks);
			}else if (distanse < 80) {
				return "Тепло. Кликов осталось " + clicks;
			}else if (distanse < 160) {
				return ( "Холодно. Кликов осталось " + clicks);
			}else if (distanse < 320) {
				return ("Очень холодно. Кликов осталось " + clicks);
			}else if (distanse < 500) {
				return ("Очень Очень холодно. Кликов осталось " + clicks);
			}
			else {
				return ("Замерзнешь!  Кликов осталось " + clicks);
			}
		};
		var width = 800;
		var height = 800;
		var clicks = 80;
		var target = {
			x: getRandomnumber(width),
			y: getRandomnumber(height)
		};

		$("#map").click(function (event) {
			clicks--;		
			var distanse = getDistanse(event, target);
			var DistanseHint = getDistanseHint (distanse);
			$("#distanse").text(DistanseHint);
			if (distanse < 8) {
				alert("Клад найден! сделано кликов: " +( 80 - clicks))
			}
			if (clicks === 0) {
				alert("Клики кончились! Вы не смогли найти клад :(")
			}
		});

	</script>
</body>
</html>